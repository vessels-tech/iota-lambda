const IOTA = require('iota.lib.js');



// Create IOTA instance with host and port as provider
var iota = new IOTA({
    // 'host': 'http://localhost',
    // 'host': 'http://5.9.149.169',
    // 'host': 'http://nelson1.iota.fm',
    'host': 'http://iota.teamveno.eu',
    'port': 14265
    // 'port': 80
});

// now you can start using all of the functions
// iota.api.getNodeInfo(function(error, success) {
//     if (error) {
//         console.error(error);
//     } else {
//         console.log(success);
//     }
// });
//
// iota.api.getTips(function(error, success) {
//   if (error) {
//       console.error(error);
//   } else {
//       console.log(success);
//   }
// });

//TODO: figure out how to make this big trytes...
// const trytes = [iota.utils.toTrytes("{\"message\":\"Hello World!\"}")];

const trytes = "ZSARFFBFBZYYT9QW99BNUZDBDTIEAICYIMKSZUFTKJVVMKQUSJRXJXOJADJTQAJBLZXADMCMZBQBHXDEDPVNEACHLGKLPJMTFTHSNSZQKRDDHEOUESDNEPHGBWJPOPPRYJOYWASQKJDDHGJCJTCHVTTWXZKQYYLXXYJSOPVFPRJMONJ9YL9KYQDYYEWMHZAEBEWWKNEZICBQRTELNZRBMHXRIMGDPWAHO9EZEAGBNSYLDBIVNQZYCQZQOUJGDANFILJTSFZTRFR9LMSPBTXP9BJJEECTOVZFOSHGXVNJHRPCQYWK9EXCAKDACJRDS9KHYAZ9ELE9IUKQYBMQKTXXJETHETTJ9LEMX9ZNMFVZXCMHQLFPZZKZMQKEBQJWKGZBITRLNTTNCBTIIZPYNQ9VBSSTDYBWBWGCSRNFNUDEMDU9CYYFARPNMZ9TIWQKNHFCTIC9IJSTBUHSPF9KFTTT9NRXSLG9DWOAJUUHVBQYAKFQCA9H9RZHBYNBYBCGKGNH9VOBPULZLXGINGXRIFH9JX9CKWBGQDBLPJSURIUAOXUCQ9Z9JUJ9WWYF9FFJDKNDDODROYVMIAIYPGHVA9ESTLLLLXBUFDH9JCNAHNWMXUVT9SZOTSPCNHPAQGBAUGKCA9SFISPBASHAXLEMZUHJC9WSEIFXRDRMXTDXUOE9ZEUAHOFHEB9PJFYBG9OPDCJECEOTQIJGF9EDUYKFQDAFAYFRDIWHMHVKSXDETFVCBXEMKJEIOLT9WZOWVXTUHXUXOOEHTOQHXUJIHAVSWETOOFMOHYLLLZB9DAYQ9WVEFCUAAQ9NZMEGCWMMSVPYDAJQLSZNSGKECSWMROLFSU9PGOTEXZASAHTQDYMVBZ9QJSKJNOTLBBCWCNINCDXFORSZE9AYSBJNPGEXHYMTXWSRDYGMKQWCUEFOIMHXXEDELPGWBRZHJUWA9CWRVCBDWLNMWUBJWSFQSNQDTSOUXBGLTDPNMDXNRU9WMUXTIPQLDPDCOWMIXSGTFPT9G9RESDIKUBJOPK9OEMYXBXNVITKHMEPH9REW9NVPBKVY9NAN9TPGBMPFYKXFINZFNRBPWMIBWUSOBDGUCUK9EQFIKSGQW9FNRUPHBZUEWLK9ZFSTLNRYHYPEWVBSSNTTCWKGRTNVOPUZYN9PNQMMQGJWMIGYYRHGVPKUCGSSJPXWPLWHPZWXDVKFQHTLZVXWEDMBXPXFQFVBLWSYQEBUCVYJULATGPCSDEVHPTESC9WCNFNARYVHUVEYLGWBP9NUKUSFVBYGJYWCDDARNSNGFMXWPUSPCJYKIMOBQDVDI9UNDAGGGT9ATMRCEYBYEDRKTLAZRQTTQRBEVXUJHHKPTWO9KVDXMLB9ATUHYYEXXHAMW9VJQ9JNMQOXMSVKXHAQJHGODMPJL9ANIZSWDAMCQQDQOUAWSDOAZRLWBVCHBGNWMXUEPSN9ERUFFCVELCLB9NWOZSVNBTLVDOVDZJAZNANEUTDIEKQSC9VIQJWPQUGL9WCDJMSYEXINLORDME9SPZMHGHWHRGXOPDYTUZQEEDTN9FBGREYC9FNGNDNBMSHPUDUHSVTTPUSVAQPZZLTQRDHPBLDCQCMMXIMUOTUGJUVKUTKD99JSTB9KFXNCHZBUHWCRIRIDAPTGDGMKCZRHVHEUWXOSDQZGMWDCJYGEEVJNOZAVYYW9TBHRHE9NWDIP9ZAENKCPAFCCABC9OM9URLJCXCOPVVGERJMB9RAST9LDKFAHGAZPXIVYSSTABEQUJEBG9MMSAURXRMAXGAEUHYRZOL9TRBLDIHWOODHAUL9QOSKQXXVCSREKBSFJEJHSPTUZWPTFXMMTYJSNUVJKTKBRFGXRSMLJBUWRHWWVRARZRQIRORAZROPA9INSQIJUGAGPWOFNLEOFTVXIPD9LYDSAFHZYWBEAPYLMGWZVQ9ZXJZOYSIGAGKNIXERMJVFPYYRIHGTEUEB9XRYZKAHGQVNWLEAXCECRWHU9TVANCINDV9ZV9MNUWUCXQFTABUQ9HIXLDUIXGBYXEHLUPQLTAYPELYZQBEHWKCVRKSRUHYZRNQSPWMNFIKNE9HAFFYMTPDCLUMMZG9YYIQJFLROZTDBMRSTFUKUCCYIVDWQ9CYSBJHVPNQNUZ9PJUNRVCANRNNXROJGZYMAGPRGPXOCSO9PYTCBUWQRVNWZ99ODHIDXRGT9CQMELXEKOXYRKRUSBN9YIGNVCVESQGJJIKSYKBFIRU9UXHLDUJYVSSFTJNUVPAILWAISVPKFDSMNALZ999999999999999999999MINEIOTADOTCOM9999999999999B9SOXYD99C99999999E99999999CDOBHNAGOHHVSLLOJIAHYKCLOPXLSHPQKLERQQLASUKYEUHDRELVQ9FGGGGX9SYEELENAJ9CTWNLBZHQ9VAVXVMDO9EOXCLLJNOSCEGENOPFTEJIM9UBLBXG9LSTJJKPUOBRK9PCZWOJAMFKNTTURHNQIFQQY99999NSZLMZJQJVYBDQKHYTIIKAA9UJIH9CXPWSSZTZCLBUUPOATI9OSLPWTJSULSCJOCIKARTLCULHMS99999MINEIOTADOTCOM9999999999999SVEPAEFJE999999999L99999999N9OPGIPJULGAWAOJDDKWYAFAJ9J";
const depth = 2;
const minWeightMagnitude = 1;

// console.log("Trytes:", trytes);

iota.api.sendTrytes([trytes], depth, minWeightMagnitude, (err, success) => {
  if (err) {
    console.error(err);
    return
  }

  console.log("success!", success);
});


// you can also get the version
console.log(iota.version);
